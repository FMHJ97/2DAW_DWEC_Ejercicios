<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Función Arrow</title>
</head>
<body>
    
    <script>

        // Son funciones definidas usando una flecha '=>'.

        // ES5
        let numero=function (){ return 1;};
        console.log(numero());

        // ES6
        let numero2=()=>{console.log("hola")};
        numero2();

        // Ambos ejemplos son Funciones Expresadas (Revisar fichero funciones).
        // Es decir, variables a las que se igualan una función.
        // En estos caso, para poder llamarlas, debemos hacerlo justo después
        // de declararlas.

        var nombres = ['pepe', 'ana'];
        // Se recomienda rodear los parámetros de la función arrow
        // con paréntesis.
        nombres.forEach((parametro)=>{
            document.write('nombre: ' + parametro + "<br>");}
        );

        // Una de las características que tienen las arrow function es que no capturan el
        // objeto this del contexto en el que se encuentran.

        //this captura el objeto principal window del navegador
        function saludar() {
            console.log (this);
        };
        saludar();

        //this en función declarada captura el objeto dentro del contexto en el que está
        const alumno={ nombre: "pepe",
            apellidos: "Gil Robles",
            email: "pepe@inventado.com",
            matricular: function() {console.log(this);} // En este caso, recoge el objeto alumno.
        }
        alumno.matricular();

        //this en arrow function se salta el contexto del objeto y coge el padre en el que está
        const alumno2={ nombre: "pepe",
            apellidos: "Gil Robles",
            email: "pepe@inventado.com",
            matricular: ()=>{console.log(this);} // En este caso, coge el padre (Window)
        }
        alumno2.matricular();


    </script>

</body>
</html>